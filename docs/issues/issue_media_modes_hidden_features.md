# Issue: 高度なメディアモードと隠し演出の実装

## 概要
「74分」の制約を多様な視覚的、情緒的コンテキストで楽しむため、CD-R以外にカセットテープおよびポモドーロタイマーモードを実装し、それぞれに隠し機能や夜間演出を追加しました。

## コンテキスト / 現状
- 74minは単なる音楽プレイヤーではなく、メディアの制約を楽しむプロダクトである。
- CD-R以外の物理メディア（カセット）へのノスタルジーを統合したい。
- 作業用ツールとしての実用性（ポモドーロ）と、遊び心（隠しラジオ、夜間演出）を融合させ、ユーザーが探索を楽しめるようにしたい。

## 期待される動作 / ゴール
- [x] CD-R / Cassette の動的切り替え
- [x] 「隠し」ポモドーロタイマーモード（ロゴ5クリック）
- [x] ポモドーロ内の「超隠し」FMいるかストリーミング（ノブ3クリック）
- [x] 夜間（22時-5時）の自動波音通知機能
- [x] 日英音声アナウンスとベルのハイブリッド通知

## 技術的なアプローチ
1. `state.mediaType` による表示要素の切り替え（CSS `.hidden` 制御）。
2. `setInterval` によるポモドーロシーケンサー。
3. `Audio` オブジェクト（`#iruka-stream`）による外部ストリーミング再生。
4. `Web Speech API` を用いた多言語アナウンス。
5. `fadeIn/fadeOut` ロジックによるスムーズな音量制御。

## デザイン・設計の選択
- **ポモドーロを隠しモードにした理由**: 
  - 本プロジェクトのメインテーマは「音楽アルバムの作成と交換」であり、ポモドーロはあくまで「作業」を支援するサブ機能であるため、あえて隠すことで「秘密の相棒」のような特別感を演出した。
- **FMいるかの選定**: 
  - 函館独自の空気感を醸成するため。インターネットストリーミングはMixed Content（HTTP/HTTPS）に注意が必要だが、情緒を優先した。
- **ベルと音声のハイブリッド**: 
  - 通知音としてベル（物理的）の後に音声（案内）が流れることで、「時間ですよ」という合図と「次は何をすべきか」の情報の両立を、ホテルのルームサービスのベルのような高級な雰囲気で行った。

## 備考
- デプロイ先 (HTTPS) でのストリーミング再生がブロックされる可能性があるため、今後の課題としてプロキシ経由の配信も検討の余地あり。
