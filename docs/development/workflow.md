# 開発ワークフロー

本プロジェクトでは、品質管理と継続的な改善（Kaizen）のために、以下のワークフローとIssue管理運用を遵守します。

> [!IMPORTANT]
> **使用言語について**:
> Issue、プルリクエスト、コミットメッセージ、ドキュメントなど、コード以外の成果物は原則として **日本語** を使用してください。
> 特に、AIエージェントが生成するアーティファクト（`task.md`, `implementation_plan.md`, `walkthrough.md` 等）も必ず **日本語** で記述してください。

## デザイン指針 (Design Philosophy)
本プロジェクトでは「かっこいいソフトウェア」であることを最優先します。機能追加時は以下の基準で判断してください。
- **Minimalism (ミニマリズム)**: 余計な要素を足さない。情報は必要な時だけ表示する（例: ホバー時のみ表示）。
- **Premium Feel (高級感)**: 既存のレイアウトや世界観を崩すような配置は避ける。
- **Contextual (文脈依存)**: その瞬間にユーザーが必要としていない情報は隠し、アクションに置き換える（例: 削除時は再生時間は不要）。

## Issue管理
GitHub Issueを使用してタスクを管理します。
1. **作成**: テンプレート (`docs/issue_template.md`) に従ってください。テンプレートを基準としますが、状況に応じて「より良い書き方」があれば柔軟に改善してください。

```markdown
## 概要
(タスクやバグの簡潔な説明)

## コンテキスト / 現状
(Why: なぜこのタスクが必要か、現在の問題点は何か)

## 期待される動作 / ゴール
(What: 具体的に何がどうなれば完了か)
- 要件A
- 要件B

## 技術的なアプローチ
(How: 実装の方針、使用する技術、参照ファイル)
1. 手順1
2. 手順2

## 備考
(参考リンクや懸念点など)
```

### フォーマットの注意点
- **改行コード**: CLIツール等から投稿する際、意図せず `\n` が文字列として表示されないように注意してください。長文の場合はファイルから読み込むなどの方法を推奨します。


## 2. ブランチ運用（GitHub Flow）
メインブランチを常にデプロイ可能な状態に保つため、以下のルールで運用します。

### ブランチ命名規則
`{type}/{description}` の形式を使用します。
- `feat/`: 新機能 (例: `feat/auth-ui`)
- `fix/`: バグ修正 (例: `fix/track-list-scroll`)
- `docs/`: ドキュメントのみ (例: `docs/readme-update`)
- `refactor/`: コード整理 (例: `refactor/api-module`)

### ライフサイクル
0. **Issue作成**: 作業開始前に必ずGitHub上でIssueを作成し、タスク番号を発行する。
1. **ブランチ作成**: `main` からブランチを切る。命名規則に従う。
2. **コミット**: コミットメッセージにはIssue番号を含める（例: `feat: ログイン画面を実装 (Closes #8)`）。英語/日本語はチーム規定に従う（現在は日本語推奨）。
3. **マージ**: 実装と検証が完了し、問題がないと判断できれば、開発者の判断で `main` へマージし、ブランチを削除する（**Auto-Merge推奨**）。ユーザーへの確認は事後報告で良い。

## 3. コミュニケーション（Issueコメント）
全ての操作をログに残す必要はありませんが、**「区切りの良いタイミング」**でコメントを残し、進捗を可視化します。

- **計画完了時**: 実装プランが決まったら「この方針で進めます」と共有。
- **実装開始時**: 「作業を開始します」と宣言（重複作業の防止）。
- **プルリクエスト/マージ時**: 関連するコミットやPRへのリンクを含める。
- **保留/中断時**: なぜ中断したか、再開条件は何かを記録する。
- **デザイン・設計の選択**: 機能やレイアウトの選択肢（A案、B案など）があった場合、**「検討した選択肢」**と**「選んだもの」**、および**「なぜそれを選んだか（理由・経緯）」**をコメントに記録する。後から振り返ったときに文脈を理解できるようにするため。

- **デプロイURLの提示**: ユーザーに確認を求める際は、必ず `http://localhost:8080` (または適切なURL) が稼働しているか確認し、ドキュメントに記載した上でURLを提示する。


## 5. デプロイ (Vercel)

現在のプロジェクトは Vercel にデプロイされています。YouTube API連携を維持するために、以下の設定が必要です。

1.  **環境変数の設定**:
    - Vercelダッシュボードの `Settings > Environment Variables` にて、`YOUTUBE_API_KEY` を作成し、自身のAPIキーを設定してください。
2.  **ビルド設定**:
    - `vercel.json` が配置されているため、ビルドコマンド (`npm run build`) と出力ディレクトリ (`.`) は自動的に設定されます。
3.  **注意点**:
    - `js/config.js` はローカル用かつ機密情報を含むため、引き続き git 管理外 (`.gitignore`) とし、デプロイ時にビルドスクリプトで生成されます。
